<!-- pages/institution.html -->
<div class="dashboard-header">
<h3>Institution Dashboard</h3>
<p>Welcome, Registrar! Register and Manage certificates.</p>
</div>

<!-- Institution Information -->
 <div class="institution-info">
    <p><strong>Institution:</strong> <span id="instName">Loading...</span></p>
    <p><strong>Description:</strong> <span id="instDesc">Loading...</span></p>
    <p><strong>Wallet Address:</strong> <span id="instWallet">Loading...</span></p>
  </div>



  <!-- TAB NAVIGATION -->
  <div class="tabs">
    <button class="tab-button active" data-tab="registerTab">üìú Register Certificate</button>
    <button class="tab-button" data-tab="manageTab">üîç Manage Certificates</button>
    
  </div>



  <!-- Register Certificate Section -->
  <div class="tab-content active" id="registerTab">
    <h2>Register Certificate</h2>
    <input type="text" id="recipientName" placeholder="Recipient Name" />
    <input type="text" id="title" placeholder="Certificate Title" />
    <div id="previewArea">
      <input type="file" id="certificateFile" placeholder="Choose a file"/>
      <!-- <p id="cidDisplay" style="display: none;">Hang on, uploading to IPFS...</p> -->
      
    </div>

    <p id="cidDisplay" style="display: none;">Hang on, uploading to IPFS...</p>

    <!-- <input type="file" id="certificateFile" /> -->
    <input type="text" id="externalId" placeholder="Optional External ID" />
    

        <!-- Loading Overlay -->
        <div id="loadingOverlayRegister" style="display: none">
          <div id="loadingIndicator">
            <img src="https://i.gifer.com/ZZ5H.gif" alt="Loading..." />
            <p>Registering Certificate...</p>
          </div>
        </div>

    <div id="registeredCert"></div>

    <button class="button-action" id="registerBtn" disabled>Register Certificate</button>

  </div>



  <!-- Manage Certificates Section -->
  <div class="tab-content" id="manageTab">
    <h2>My Issued Certificates</h2>
    <input type="text" id="searchCertificates" placeholder="üîç Search by Name or Title" />

    <button class="button-action" id="loadCertsBtn">Refresh Issued Certificates</button>

    <div id="certificateStats">
      <p><strong>Total Certificates:</strong> <span id="totalCerts">0</span></p>
      <p><strong>Revoked Certificates:</strong> <span id="revokedCerts">0</span></p>
    </div>
      <!-- Loading Overlay for Revoking Institution -->
  <div id="loadingOverlayRevoke" style="display: none" class="loading-overlay">
    <div id="loadingIndicator">
      <img src="https://i.gifer.com/ZZ5H.gif" alt="Loading..." />
      <p>Revoking...</p>
    </div>
  </div>

    <div id="certificateList"></div>
  </div>

<!-- MODAL FOR Confirming CERTIFICATE ISSUANCE -->
<div id="confirmCertModal" class="confirmModal">
  <div class="confirmModal-content">
    <h3>Confirm Certificate Issuance</h3>
    <p><strong>Recipient Name:</strong> <span id="confirmCertName"></span></p>
    <p><strong>Certificate Title:</strong> <span id="confirmCertTitle"></span></p>
    <p><strong>External ID:</strong> <span id="confirmCertExternalId"></span></p>
    <div id="confirmCertPreview" style="margin-top: 10px;"></div>
    <div class="modal-buttons">
      <button id="confirmCertYesBtn" class="button-action">Confirm</button>
      <button id="confirmCertNoBtn" class="button-secondary">Cancel</button>
    </div>
  </div>
</div>


<!-- MODAL: Confirm Certificate Revocation -->
<div id="confirmRevokeCertModal" class="confirmModal">
  <div class="confirmModal-content">
    <h3>Confirm Certificate Revocation</h3>
    <p>You are about to revoke the following certificate:</p>
    <p><strong>Certificate ID:</strong> <span id="confirmRevokeId"></span></p>
    <p><strong>Recipient Name:</strong> <span id="confirmRevokeName"></span></p>
    <p><strong>Certificate Title:</strong> <span id="confirmRevokeTitle"></span></p>
    <p><strong>External ID:</strong> <span id="confirmRevokeExternalId"></span></p>
    <div id="confirmRevokePreview" style="margin-top: 10px;"></div>
    <div class="modal-buttons">
      <button id="confirmRevokeCertBtn" class="button-action">Yes, Revoke</button>
      <button id="cancelRevokeCertBtn" class="button-secondary">Cancel</button>
    </div>
  </div>
</div>



